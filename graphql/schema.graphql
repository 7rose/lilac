scalar DateTime @scalar(class: "Nuwave\\Lighthouse\\Schema\\Types\\Scalars\\DateTime")
scalar Json
scalar ChineseMobile
scalar SmsCode

type Query {
    users: [User!]! @all
    user(id: ID @eq): User @find
    orgs: [Org!]! @all
    org(id: ID @eq): Org @find
    discoveries: [Discovery!]! @all
}

# 需要认证
extend type Query @guard(with:["sanctum"]) {
    me: User @auth
}

type Mutation {
    trustMoblie(input: trustMoblieInput! @spread) : TokenPayload!
    sendSmsCode(input: SendSmsCodeInput! @spread) : SendSmsResault!
    getToken(input: GetTokenInput! @spread) : TokenPayload!
    logout: LogoutResault!
}

#import user.graphql
#import org.graphql
#import role.graphql
#import auth.graphql
#import discovery.graphql
